<p>login works!</p>

<mat-card class="login-page">
    <mat-card-title>
      Login
    </mat-card-title>
    <mat-card-content>
      <form [formGroup]="form" class="login-form">
        <mat-form-field>
          <mat-label>Enter your email</mat-label>
            <input matInput type="email"
                    placeholder="Email"
                    formControlName="email">
            <mat-error *ngIf="email.errors?.required">The email is mandatory.</mat-error>
            <mat-error *ngIf="email.errors?.minlength">
                Your email must have minimum {{email.errors?.minlength.requiredLength}} chars,
                but it only has {{email.errors?.minlength.actualLength}}.
            </mat-error>
            <mat-error *ngIf="email.errors?.email">This is not a valid email.</mat-error>
        </mat-form-field>
        <!-- <mat-form-field>
            <input matInput type="password"
                    placeholder="Password"
                    formControlName="password">
            <mat-error *ngIf="password.errors?.required">The password is mandatory.</mat-error>
        </mat-form-field> -->
        <mat-form-field appearance="fill">
          <mat-label>Enter your password</mat-label>
          <input matInput [type]="hidePassword ? 'password' : 'text'" placeholder="Password" formControlName="password">
          <mat-error *ngIf="password.errors?.required">The password is mandatory.</mat-error>
          <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </mat-form-field>
        <ng-container
            *ngIf="password.errors | onlyOneError:['minlength','passwordStrength'] as error">
            <div class="field-message" *ngIf="error.minlength">
                Your password must have minimum {{error.minlength.requiredLength}} chars,
                but it only has {{error.minlength.actualLength}}.
            </div>
            <div class="field-message" *ngIf="error.passwordStrength">
                Your password must have lower case, upper case and numeric characters.
            </div>

        </ng-container>
        <button mat-raised-button color="primary"
                (click)="login()"
                [disabled]="!form.valid">
            Login
        </button>
      </form>
    </mat-card-content>
</mat-card>
<div>
{{form.value | json}}
</div>
<div>
{{form.valid | json}}
</div>
